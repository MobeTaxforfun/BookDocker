(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{276:function(e,a,s){e.exports=s.p+"assets/img/ImageGuide.94434833.png"},277:function(e,a,s){e.exports=s.p+"assets/img/imagehttps.80c61594.png"},278:function(e,a,s){e.exports=s.p+"assets/img/imagesearch.e08ddd78.png"},279:function(e,a,s){e.exports=s.p+"assets/img/imagesearchhub.9a2d5f44.png"},280:function(e,a,s){e.exports=s.p+"assets/img/imagesearchhubtag.b355fd9a.png"},296:function(e,a,s){"use strict";s.r(a);var t=s(13),r=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"image-基本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#image-基本操作"}},[e._v("#")]),e._v(" Image 基本操作")]),e._v(" "),a("p",[e._v("📗 "),a("strong",[e._v("Chapter Objectives")])]),e._v(" "),a("ul",[a("li",[e._v("Image 如何搜尋")]),e._v(" "),a("li",[e._v("Image 基本使用\n"),a("ul",[a("li",[e._v("拉取")]),e._v(" "),a("li",[e._v("查找")]),e._v(" "),a("li",[e._v("匯出/匯入")]),e._v(" "),a("li",[e._v("刪除")])])])]),e._v(" "),a("p",[e._v("📘 "),a("strong",[e._v("Reference")])]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/pull/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker pull"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/philipz/docker_practice",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker —— 從入門到實踐"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("📕  "),a("strong",[e._v("Notice")])]),e._v(" "),a("ul",[a("li",[e._v("以下環境為 Window 10")])]),e._v(" "),a("p",[e._v("✏️ "),a("strong",[e._v("Quick Guide")]),a("br"),e._v(" "),a("img",{attrs:{src:s(276),alt:"DockerimageGuide"}})]),e._v(" "),a("h2",{attrs:{id:"拉取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拉取"}},[e._v("#")]),e._v(" 拉取")]),e._v(" "),a("p",[e._v("如同 Git 從遠端倉庫拉取程式碼，Docker 則默認從 Docker hub 拉取映像檔"),a("br"),e._v("\n可以使用指令 "),a("code",[e._v("docker pull")]),e._v(" 來進行映像檔拉取"),a("br"),e._v("\n透過 "),a("code",[e._v("docker pull --help")]),e._v(" 可以看到詳細訊息")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" pull "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(":TAG"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("@DIGEST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),a("p",[e._v("格式為 "),a("code",[e._v("docker pull [選項] [Docker Registry[:Port]/]Registry Name[:Tag]")]),a("br"),e._v("\n最基本的用例為")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" pull hello-world\n")])])]),a("p",[e._v("若不指定 Tag 版本則下載最新版本 latest"),a("br"),e._v("\n在官方的 Docker Registry，若要建立自己的映像檔會在前面再加上自己的用戶"),a("br"),e._v("\n例如 "),a("code",[e._v("docker pull mobetax81072/itdapi")]),a("br"),e._v("\n就是到我自己的 dockerhub 下拉取 itdapi 這個映像檔")]),e._v(" "),a("p",[e._v("舉例：")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("docker pull nginx")])]),e._v(" "),a("p",[e._v("會到預設 registry.hub.docker.com 下載最新 nginx image\n因為這行實際執行的是 "),a("code",[e._v("docker pull registry.hub.docker.com/nginx")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("docker pull nginx:alpine")])]),e._v(" "),a("p",[e._v("會下載 alpine 版本的 nginx image")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("docker pull nginx:1.22.0")])]),e._v(" "),a("p",[e._v("會下載 1.22.0 版本的 nginx image")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("docker pull docker.elastic.co/elasticsearch/elasticsearch:8.3.3")])])])]),e._v(" "),a("p",[e._v("不使用預設的 Registry 這裡會去 docker.elastic.co/elasticsearch/ 下載 elasticsearch 8.2.2 版本")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("📓 "),a("font",{attrs:{color:"008000"}},[a("strong",[e._v("Pull from a different registry 補充")])])],1),e._v(" "),a("p",[a("img",{attrs:{src:s(277),alt:"dockerhttp"}})]),e._v(" "),a("p",[e._v("Docker 默認使用 https，如果要用 http 要去改設定")])])]),e._v(" "),a("h2",{attrs:{id:"搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搜索"}},[e._v("#")]),e._v(" 搜索")]),e._v(" "),a("p",[e._v("使用指令搜尋 "),a("code",[e._v("docker search")])]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" search nginx\n")])])]),a("p",[a("img",{attrs:{src:s(278),alt:"imagesearch"}})]),e._v(" "),a("p",[e._v("我是GUI廢人所以通常上官網看 囧")]),e._v(" "),a("ul",[a("li",[e._v("DOCKER OFFICIAL IMAGE 為官方認證通常不用加用戶前墜")]),e._v(" "),a("li",[e._v("右邊有星星數 跟 下載數量")]),e._v(" "),a("li",[e._v("TAG 通常會顯示平台")])]),e._v(" "),a("p",[a("img",{attrs:{src:s(279),alt:"imagesearch"}})]),e._v(" "),a("ul",[a("li",[e._v("右上角直接複製使用最快")]),e._v(" "),a("li",[e._v("可以到 Tags 裡面看看有什麼其他的版本")]),e._v(" "),a("li",[e._v("一個好的 Registry Overview 通常會有完善的使用說明(參數，注意事項)")])]),e._v(" "),a("p",[a("img",{attrs:{src:s(280),alt:"imagesearchhubtag"}})]),e._v(" "),a("h2",{attrs:{id:"列出本地"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列出本地"}},[e._v("#")]),e._v(" 列出本地")]),e._v(" "),a("p",[e._v("使用指令搜尋本地的映像檔 "),a("code",[e._v("docker images")]),a("br"),e._v(" "),a("br")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("C:"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("docker images\nREPOSITORY                                      TAG       IMAGE ID       CREATED        SIZE\nbitnami/nginx                                   latest    b5c8aca1173f   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" days ago     101MB\nmobeloadbalanceweb                              latest    3a4b2c20cb36   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" weeks ago    231MB\nmobeloadbalanceweb                              dev       2e3a11311015   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" weeks ago    208MB\nnginx                                           latest    55f4b40fe486   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7")]),e._v(" weeks ago    142MB\ndocker.elastic.co/elasticsearch/elasticsearch   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7.17")]),e._v(".1    515ab4fba870   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" months ago   618MB\ndocker.elastic.co/beats/filebeat                "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7.17")]),e._v(".1    7f2b5e7dd9ef   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" months ago   268MB\ndocker.elastic.co/logstash/logstash             "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7.17")]),e._v(".1    6867cdc68606   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" months ago   783MB\ndocker.elastic.co/kibana/kibana                 "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7.17")]),e._v(".1    8fbc840d074f   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" months ago   895MB\n")])])]),a("h2",{attrs:{id:"匯出和匯入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#匯出和匯入"}},[e._v("#")]),e._v(" 匯出和匯入")]),e._v(" "),a("p",[e._v("匯出 Image "),a("code",[e._v("docker save -o [檔案位置] [IMAGE...]")]),a("br"),e._v("\n匯入 Image "),a("code",[e._v("docker load -i [檔案位置]")])]),e._v(" "),a("h2",{attrs:{id:"移除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移除"}},[e._v("#")]),e._v(" 移除")]),e._v(" "),a("p",[e._v("使用指令移除本地映像檔 "),a("code",[e._v("docker rmi [OPTIONS] IMAGE [IMAGE...]")]),a("br"),e._v(" "),a("br")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("C:"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("docker rmi redis\nUntagged: redis:latest\nUntagged: redis@sha256:9bc34afe08ca30ef179404318cdebe6430ceda35a4ebe4b67d10789b17bdf7c4\nDeleted: sha256:3e42dd4e79c7b6e416d06dde0de3e8b6cc73bf8f59dea9d3f784ac63cf4665a9\nDeleted: sha256:93776ad7e2c55350f03d3280a941f7e2a224b2f316ac55920482ae9e9c957af7\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])])]),a("h2",{attrs:{id:"歷史訊息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#歷史訊息"}},[e._v("#")]),e._v(" 歷史訊息")]),e._v(" "),a("p",[e._v("使用指令查看本地映像檔建構歷史 "),a("code",[e._v("docker history [OPTIONS] IMAGE")]),a("br"),e._v(" "),a("br")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("C:"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("history")]),e._v(" redis\nIMAGE          CREATED       CREATED BY                                      SIZE      COMMENT\n3e42dd4e79c7   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" weeks ago   /bin/sh -c "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v('#(nop)  CMD ["redis-server"]         0B')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("missing"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" weeks ago   /bin/sh -c "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#(nop)  EXPOSE 6379                  0B")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("missing"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" weeks ago   /bin/sh -c "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v('#(nop)  ENTRYPOINT ["docker-entry…   0B')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("missing"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" weeks ago   /bin/sh -c "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#(nop) COPY file:e873a0e3c13001b5…   661B")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("missing"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" weeks ago   /bin/sh -c "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#(nop) WORKDIR /data                 0B")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);